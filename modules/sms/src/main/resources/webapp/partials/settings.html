<!------------------------  Settings  ------------------------------------->
<div class="row-fluid tab-frame">
    <h4 class="frame-title">SMS Provider Configurations</h4>
    <div class="inside">
        <div class="clearfix margin-before">
            <form id="smsSettingsForm" name="smsSettingsForm" class="form-horizontal" novalidate>

                <div class="alert alert-error" ng-hide="settings.configs">
                    You have not created any configurations, you will not be able to send of receive messages without one.
                </div>
                <div ng-show="settings.errors">
                    <div class="alert alert-error" ng-repeat="error in settings.errors">
                        {{error}}
                    </div>
                </div>

                <div class="control-group">
                    <button type="button" class="btn btn-success" ng-click="foo()"><i class="icon-plus icon-white"></i>&nbsp;Add Configuration</button>
                </div>

                <!--
                *
                * See http://getbootstrap.com/2.3.2/javascript.html#collapse for help with accordion controls
                *
                -->
                <div class="row-fluid" ng-show="settings.configs">
                    <div class="accordion" id="accordions">
                        <div class="accordion-group sms-config" ng-repeat="config in settings.configs">
                            <div class="accordion-heading">
                                <div class="inbox-header">
                                    <div class="accordion-toggle">
                                        <i ng-show="config.name == settings.defaultConfig && settings.configs.length > 1" title="This is the default configuration" class="icon-star sms-default-config"></i>
                                        <i ng-show="config.name != settings.defaultConfig && settings.configs.length > 1" title="Click to make this the default configuration" class="icon-star sms-nondefault-config" ng-click="setDefault(config.name)"></i>
                                        {{config.name}}
                                        <div class="pull-right sms-config-action">
                                            <button class="btn btn-small btn-primary" href="#" data-toggle="collapse" data-parent="#accordions" data-target="#config{{$index}}"> <i class="icon-edit"></i> Edit</button>
                                            <button class="btn btn-small btn-danger" href="#"> <i class="icon-trash"></i> Delete</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="config{{$index}}" class="accordion-body stripes-bg collapse overflowChange">
                                <div>&nbsp;</div>
                                <div class="alert alert-block">config:{{config}}</div>
                                <div ng-repeat="(key, val) in config">
                                    <div class="control-group">
                                        <label class="control-label">{{key}}</label>
                                        <div class="controls">
                                            <input class="input-xlarge-fluid" type="text" ng-model="val">
                                        </div>
                                    </div>
                                </div>
                                <div class="control-group">
                                    <div class="controls">
                                        <button class="btn" href="#" data-toggle="collapse" data-target="#{{config.name}}">Update</button>
                                        <button class="btn" href="#" data-toggle="collapse" data-target="#{{config.name}}">Cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>

<div class="alert alert-block">settings:{{settings}}</div>
<div class="alert alert-block">deboog:{{deboog}}</div>
